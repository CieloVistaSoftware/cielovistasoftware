// Theme configuration
window.themes = {
    dark: {
        bgPrimary: '#1a1a1a',
        bgSecondary: '#242424',
        bgCard: '#2e2e2e',
        bgHeader: '#2e2e2e',
        textPrimary: '#e0e0e0',
        textSecondary: '#ffffff',
        textParagraph: '#a8d8ea',
        accentColor: '#00d4ff',
        accentHover: '#00b8e6',
        borderColor: '#3a3a3a',
        heroGradientStart: '#2a2a3e',
        heroGradientEnd: '#26314e'
    },
    light: {
        bgPrimary: '#ffffff',
        bgSecondary: '#f8f9fa',
        bgCard: '#ffffff',
        bgHeader: '#2c3e50',
        textPrimary: '#333333',
        textSecondary: '#2c3e50',
        textParagraph: '#5a6c7d',
        accentColor: '#3498db',
        accentHover: '#2980b9',
        borderColor: '#dee2e6',
        heroGradientStart: '#667eea',
        heroGradientEnd: '#764ba2'
    },
    ocean: {
        bgPrimary: '#001f3f',
        bgSecondary: '#003d5c',
        bgCard: '#004d73',
        bgHeader: '#001f3f',
        textPrimary: '#e3f2fd',
        textSecondary: '#ffffff',
        textParagraph: '#80deea',
        accentColor: '#00bcd4',
        accentHover: '#0097a7',
        borderColor: '#01579b',
        heroGradientStart: '#006064',
        heroGradientEnd: '#004d40'
    },
    forest: {
        bgPrimary: '#0d1b0d',
        bgSecondary: '#1a331a',
        bgCard: '#264d26',
        bgHeader: '#0d1b0d',
        textPrimary: '#c8e6c9',
        textSecondary: '#e8f5e9',
        textParagraph: '#a5d6a7',
        accentColor: '#4caf50',
        accentHover: '#388e3c',
        borderColor: '#2e7d32',
        heroGradientStart: '#1b5e20',
        heroGradientEnd: '#004d40'
    },
    sunset: {
        bgPrimary: '#1a0f0a',
        bgSecondary: '#2d1810',
        bgCard: '#3d2416',
        bgHeader: '#1a0f0a',
        textPrimary: '#ffe0b2',
        textSecondary: '#fff3e0',
        textParagraph: '#ffcc80',
        accentColor: '#ff9800',
        accentHover: '#f57c00',
        borderColor: '#e65100',
        heroGradientStart: '#bf360c',
        heroGradientEnd: '#d84315'
    },
    midnight: {
        bgPrimary: '#0a0515',
        bgSecondary: '#150a28',
        bgCard: '#1f0f3b',
        bgHeader: '#0a0515',
        textPrimary: '#e1bee7',
        textSecondary: '#f3e5f5',
        textParagraph: '#ce93d8',
        accentColor: '#9c27b0',
        accentHover: '#7b1fa2',
        borderColor: '#6a1b9a',
        heroGradientStart: '#4a148c',
        heroGradientEnd: '#311b92'
    },
    crimson: {
        bgPrimary: '#1a0000',
        bgSecondary: '#330000',
        bgCard: '#4d0000',
        bgHeader: '#1a0000',
        textPrimary: '#ffcdd2',
        textSecondary: '#ffebee',
        textParagraph: '#ef9a9a',
        accentColor: '#f44336',
        accentHover: '#d32f2f',
        borderColor: '#c62828',
        heroGradientStart: '#b71c1c',
        heroGradientEnd: '#880e4f'
    },
    coffee: {
        bgPrimary: '#1a0f0a',
        bgSecondary: '#2d1f17',
        bgCard: '#3e2a1f',
        bgHeader: '#1a0f0a',
        textPrimary: '#d7ccc8',
        textSecondary: '#efebe9',
        textParagraph: '#bcaaa4',
        accentColor: '#8d6e63',
        accentHover: '#6d4c41',
        borderColor: '#5d4037',
        heroGradientStart: '#4e342e',
        heroGradientEnd: '#3e2723'
    },
    slate: {
        bgPrimary: '#0f1419',
        bgSecondary: '#1e2631',
        bgCard: '#2d3748',
        bgHeader: '#0f1419',
        textPrimary: '#cbd5e0',
        textSecondary: '#e2e8f0',
        textParagraph: '#a0aec0',
        accentColor: '#64748b',
        accentHover: '#475569',
        borderColor: '#334155',
        heroGradientStart: '#1e293b',
        heroGradientEnd: '#0f172a'
    },
    mint: {
        bgPrimary: '#0a1a14',
        bgSecondary: '#143325',
        bgCard: '#1f4d36',
        bgHeader: '#0a1a14',
        textPrimary: '#c8f0e0',
        textSecondary: '#e0f7ee',
        textParagraph: '#9de4c8',
        accentColor: '#26d0a0',
        accentHover: '#1fb88a',
        borderColor: '#189e75',
        heroGradientStart: '#0d8c63',
        heroGradientEnd: '#0a6b4d'
    },
    lavender: {
        bgPrimary: '#130a1a',
        bgSecondary: '#251433',
        bgCard: '#371f4d',
        bgHeader: '#130a1a',
        textPrimary: '#e6d9f0',
        textSecondary: '#f0e6f5',
        textParagraph: '#d4b5e8',
        accentColor: '#b794f6',
        accentHover: '#9f7aea',
        borderColor: '#805ad5',
        heroGradientStart: '#6b46c1',
        heroGradientEnd: '#553c9a'
    },
    coral: {
        bgPrimary: '#1a0d0d',
        bgSecondary: '#331919',
        bgCard: '#4d2626',
        bgHeader: '#1a0d0d',
        textPrimary: '#ffd4cc',
        textSecondary: '#ffe6e0',
        textParagraph: '#ffab99',
        accentColor: '#ff7f66',
        accentHover: '#ff6347',
        borderColor: '#e64a2e',
        heroGradientStart: '#cc3d25',
        heroGradientEnd: '#b32e1c'
    },
    navy: {
        bgPrimary: '#000814',
        bgSecondary: '#001d3d',
        bgCard: '#003566',
        bgHeader: '#000814',
        textPrimary: '#caf0f8',
        textSecondary: '#e0f7fa',
        textParagraph: '#90e0ef',
        accentColor: '#0077b6',
        accentHover: '#00588a',
        borderColor: '#03045e',
        heroGradientStart: '#023e8a',
        heroGradientEnd: '#0077b6'
    },
    rose: {
        bgPrimary: '#1a0d14',
        bgSecondary: '#331a28',
        bgCard: '#4d263c',
        bgHeader: '#1a0d14',
        textPrimary: '#f8d7e8',
        textSecondary: '#fce4ec',
        textParagraph: '#f48fb1',
        accentColor: '#ec407a',
        accentHover: '#d81b60',
        borderColor: '#c2185b',
        heroGradientStart: '#ad1457',
        heroGradientEnd: '#880e4f'
    },
    emerald: {
        bgPrimary: '#051a0a',
        bgSecondary: '#0a3314',
        bgCard: '#0f4d1f',
        bgHeader: '#051a0a',
        textPrimary: '#a7f3d0',
        textSecondary: '#d1fae5',
        textParagraph: '#6ee7b7',
        accentColor: '#10b981',
        accentHover: '#059669',
        borderColor: '#047857',
        heroGradientStart: '#065f46',
        heroGradientEnd: '#064e3b'
    },
    amber: {
        bgPrimary: '#1a1205',
        bgSecondary: '#33240a',
        bgCard: '#4d360f',
        bgHeader: '#1a1205',
        textPrimary: '#fde68a',
        textSecondary: '#fef3c7',
        textParagraph: '#fcd34d',
        accentColor: '#f59e0b',
        accentHover: '#d97706',
        borderColor: '#b45309',
        heroGradientStart: '#92400e',
        heroGradientEnd: '#78350f'
    },
    indigo: {
        bgPrimary: '#0a0d1a',
        bgSecondary: '#141933',
        bgCard: '#1f264d',
        bgHeader: '#0a0d1a',
        textPrimary: '#c7d2fe',
        textSecondary: '#e0e7ff',
        textParagraph: '#a5b4fc',
        accentColor: '#6366f1',
        accentHover: '#4f46e5',
        borderColor: '#4338ca',
        heroGradientStart: '#3730a3',
        heroGradientEnd: '#312e81'
    },
    teal: {
        bgPrimary: '#041414',
        bgSecondary: '#082828',
        bgCard: '#0c3d3d',
        bgHeader: '#041414',
        textPrimary: '#99f6e4',
        textSecondary: '#ccfbf1',
        textParagraph: '#5eead4',
        accentColor: '#14b8a6',
        accentHover: '#0d9488',
        borderColor: '#0f766e',
        heroGradientStart: '#115e59',
        heroGradientEnd: '#134e4a'
    },
    magenta: {
        bgPrimary: '#1a0a1a',
        bgSecondary: '#331433',
        bgCard: '#4d1f4d',
        bgHeader: '#1a0a1a',
        textPrimary: '#f5d0fe',
        textSecondary: '#fae8ff',
        textParagraph: '#e879f9',
        accentColor: '#d946ef',
        accentHover: '#c026d3',
        borderColor: '#a21caf',
        heroGradientStart: '#86198f',
        heroGradientEnd: '#701a75'
    },
    charcoal: {
        bgPrimary: '#0d0d0d',
        bgSecondary: '#1a1a1a',
        bgCard: '#262626',
        bgHeader: '#0d0d0d',
        textPrimary: '#d4d4d4',
        textSecondary: '#fafafa',
        textParagraph: '#a3a3a3',
        accentColor: '#737373',
        accentHover: '#525252',
        borderColor: '#404040',
        heroGradientStart: '#262626',
        heroGradientEnd: '#171717'
    },
    olive: {
        bgPrimary: '#0f140a',
        bgSecondary: '#1e2814',
        bgCard: '#2d3d1f',
        bgHeader: '#0f140a',
        textPrimary: '#d9e7c8',
        textSecondary: '#ecf4e0',
        textParagraph: '#c5ddb1',
        accentColor: '#84a65d',
        accentHover: '#6b8a48',
        borderColor: '#556f33',
        heroGradientStart: '#3f5c1e',
        heroGradientEnd: '#2a4009'
    },
    burgundy: {
        bgPrimary: '#140508',
        bgSecondary: '#280a10',
        bgCard: '#3d0f18',
        bgHeader: '#140508',
        textPrimary: '#ffc9d6',
        textSecondary: '#ffe0e8',
        textParagraph: '#ffa3b8',
        accentColor: '#9f1239',
        accentHover: '#881337',
        borderColor: '#7f1d1d',
        heroGradientStart: '#6b1729',
        heroGradientEnd: '#5c0f21'
    },
    turquoise: {
        bgPrimary: '#051419',
        bgSecondary: '#0a2833',
        bgCard: '#0f3d4d',
        bgHeader: '#051419',
        textPrimary: '#a5f3fc',
        textSecondary: '#cffafe',
        textParagraph: '#67e8f9',
        accentColor: '#06b6d4',
        accentHover: '#0891b2',
        borderColor: '#0e7490',
        heroGradientStart: '#155e75',
        heroGradientEnd: '#164e63'
    },
    peach: {
        bgPrimary: '#1a0f0a',
        bgSecondary: '#331e14',
        bgCard: '#4d2d1f',
        bgHeader: '#1a0f0a',
        textPrimary: '#fed7aa',
        textSecondary: '#ffedd5',
        textParagraph: '#fdba74',
        accentColor: '#fb923c',
        accentHover: '#f97316',
        borderColor: '#ea580c',
        heroGradientStart: '#c2410c',
        heroGradientEnd: '#9a3412'
    },
    steel: {
        bgPrimary: '#0a0f14',
        bgSecondary: '#141f28',
        bgCard: '#1f2e3d',
        bgHeader: '#0a0f14',
        textPrimary: '#b0d4e8',
        textSecondary: '#d0e8f5',
        textParagraph: '#93c5fd',
        accentColor: '#3b82f6',
        accentHover: '#2563eb',
        borderColor: '#1e40af',
        heroGradientStart: '#1e3a8a',
        heroGradientEnd: '#1e293b'
    },
    lime: {
        bgPrimary: '#0f1a05',
        bgSecondary: '#1e330a',
        bgCard: '#2d4d0f',
        bgHeader: '#0f1a05',
        textPrimary: '#d9f99d',
        textSecondary: '#ecfccb',
        textParagraph: '#bef264',
        accentColor: '#84cc16',
        accentHover: '#65a30d',
        borderColor: '#4d7c0f',
        heroGradientStart: '#3f6212',
        heroGradientEnd: '#365314'
    },
    plum: {
        bgPrimary: '#140a1a',
        bgSecondary: '#281433',
        bgCard: '#3d1f4d',
        bgHeader: '#140a1a',
        textPrimary: '#e9d5ff',
        textSecondary: '#f5e7ff',
        textParagraph: '#d8b4fe',
        accentColor: '#a855f7',
        accentHover: '#9333ea',
        borderColor: '#7e22ce',
        heroGradientStart: '#6b21a8',
        heroGradientEnd: '#581c87'
    },
    sand: {
        bgPrimary: '#1a1714',
        bgSecondary: '#2d2621',
        bgCard: '#3e352e',
        bgHeader: '#1a1714',
        textPrimary: '#e7dfd0',
        textSecondary: '#f5f0e8',
        textParagraph: '#d9c9b0',
        accentColor: '#d4a574',
        accentHover: '#b8895c',
        borderColor: '#9c6e44',
        heroGradientStart: '#7d5a3b',
        heroGradientEnd: '#614832'
    },
    cherry: {
        bgPrimary: '#1a0a14',
        bgSecondary: '#331428',
        bgCard: '#4d1f3d',
        bgHeader: '#1a0a14',
        textPrimary: '#ffc9e0',
        textSecondary: '#ffe0f0',
        textParagraph: '#ff9ec7',
        accentColor: '#f06292',
        accentHover: '#ec407a',
        borderColor: '#d81b60',
        heroGradientStart: '#c2185b',
        heroGradientEnd: '#ad1457'
    },
    arctic: {
        bgPrimary: '#f0f4f8',
        bgSecondary: '#e2eaf2',
        bgCard: '#ffffff',
        bgHeader: '#b0c4de',
        textPrimary: '#1a365d',
        textSecondary: '#2d3748',
        textParagraph: '#4a5568',
        accentColor: '#4299e1',
        accentHover: '#3182ce',
        borderColor: '#90cdf4',
        heroGradientStart: '#63b3ed',
        heroGradientEnd: '#90cdf4'
    },
    neon: {
        bgPrimary: '#000000',
        bgSecondary: '#0a0a0a',
        bgCard: '#141414',
        bgHeader: '#000000',
        textPrimary: '#00ff41',
        textSecondary: '#39ff14',
        textParagraph: '#00ffff',
        accentColor: '#ff10f0',
        accentHover: '#d900c7',
        borderColor: '#00ffff',
        heroGradientStart: '#ff006e',
        heroGradientEnd: '#8338ec'
    }
};

console.log('âœ… Themes loaded:', Object.keys(window.themes).length, 'themes');

// Apply theme
function applyTheme(themeName) {
    const theme = window.themes[themeName];
    if (!theme) return;
    
    const root = document.documentElement;
    root.style.setProperty('--bg-primary', theme.bgPrimary);
    root.style.setProperty('--bg-secondary', theme.bgSecondary);
    root.style.setProperty('--bg-card', theme.bgCard);
    root.style.setProperty('--bg-header', theme.bgHeader);
    root.style.setProperty('--text-primary', theme.textPrimary);
    root.style.setProperty('--text-secondary', theme.textSecondary);
    root.style.setProperty('--text-paragraph', theme.textParagraph);
    root.style.setProperty('--accent-color', theme.accentColor);
    root.style.setProperty('--accent-hover', theme.accentHover);
    root.style.setProperty('--border-color', theme.borderColor);
    root.style.setProperty('--hero-gradient-start', theme.heroGradientStart);
    root.style.setProperty('--hero-gradient-end', theme.heroGradientEnd);
    
    // Save preference
    localStorage.setItem('selectedTheme', themeName);
}

// Theme dropdown handler
const themeDropdown = document.getElementById('themeDropdown');
if (themeDropdown) {
    // Load saved theme or use config default
    const defaultTheme = window.siteConfig ? window.siteConfig.defaultTheme : 'dark';
    const savedTheme = localStorage.getItem('selectedTheme') || defaultTheme;
    themeDropdown.value = savedTheme;
    applyTheme(savedTheme);
    
    // Handle theme change
    themeDropdown.addEventListener('change', function() {
        applyTheme(this.value);
    });
}

// Smooth scrolling for navigation links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
    });
});

// Form submission handler
const contactForm = document.querySelector('.contact-form');
if (contactForm) {
    contactForm.addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Get form values
        const name = this.querySelector('input[name="name"]').value;
        const email = this.querySelector('input[name="email"]').value;
        const message = this.querySelector('textarea[name="message"]').value;
        
        // Create mailto link
        const subject = encodeURIComponent(`Contact from ${name}`);
        const body = encodeURIComponent(`From: ${name}\nEmail: ${email}\n\nMessage:\n${message}`);
        const mailtoLink = `mailto:contact@cielovista.com?subject=${subject}&body=${body}`;
        
        // Open email client
        window.location.href = mailtoLink;
        
        // Optional: Show confirmation and reset form
        setTimeout(() => {
            alert(`Thank you, ${name}! Your email client should open. If not, please email us directly at contact@cielovista.com`);
            this.reset();
        }, 100);
    });
}

// Add active state to navigation on scroll
window.addEventListener('scroll', () => {
    const sections = document.querySelectorAll('section');
    const navLinks = document.querySelectorAll('.nav-links a');
    
    let current = '';
    sections.forEach(section => {
        const sectionTop = section.offsetTop;
        const sectionHeight = section.clientHeight;
        if (scrollY >= (sectionTop - 100)) {
            current = section.getAttribute('id');
        }
    });
    
    navLinks.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('href').substring(1) === current) {
            link.classList.add('active');
        }
    });
});

// CTA button click handler
const ctaButton = document.querySelector('.cta-button');
if (ctaButton) {
    ctaButton.addEventListener('click', () => {
        document.querySelector('#contact').scrollIntoView({
            behavior: 'smooth'
        });
    });
}
